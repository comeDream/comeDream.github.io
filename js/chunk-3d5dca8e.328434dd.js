(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d5dca8e"],{"2b05":function(t,e,n){"use strict";var i=n("70fa"),r=n.n(i);r.a},3973:function(t,e,n){"use strict";var i=n("be58"),r=n.n(i);r.a},"70fa":function(t,e,n){},a55b:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[t._m(0),n("InputGroup",{attrs:{type:"number",placeholder:"手机号",btnTitle:t.btnTitle,disabled:t.disabled,error:t.errors.phone},on:{btnClick:t.getVerifyCode},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),n("InputGroup",{attrs:{type:"number",placeholder:"验证码",error:t.errors.code},model:{value:t.verifyCode,callback:function(e){t.verifyCode=e},expression:"verifyCode"}}),t._m(1),n("div",{staticClass:"login_btn"},[n("button",{attrs:{disabled:t.isClick},on:{click:t.handleLogin}},[t._v("登录")])])],1)},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"logo"},[i("img",{staticClass:"logo",attrs:{src:n("b640"),alt:"my login image"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login_des"},[n("p",[t._v("\n            新用户登录即自动注册，表示已同意\n            "),n("span",[t._v("《用户服务协议》")])])])}],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text_group"},[n("div",{staticClass:"input_group",class:{"is-invalid":t.error}},[n("input",{attrs:{type:t.type,placeholder:t.placeholder,name:t.name},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),t.btnTitle?n("button",{attrs:{disabled:t.disabled},on:{click:function(e){return t.$emit("btnClick")}}},[t._v(t._s(t.btnTitle))]):t._e()]),t.error?n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.error))]):t._e()])},s=[],a={name:"inputGroup",props:{type:{type:String,default:"text"},value:String,placeholder:String,name:String,btnTitle:String,disabled:Boolean,error:String}},l=a,c=(n("2b05"),n("2877")),u=Object(c["a"])(l,o,s,!1,null,"76773e2a",null),d=u.exports,p={name:"login",components:{InputGroup:d},data:function(){return{phone:"",verifyCode:"",errors:{},btnTitle:"获取验证码",disabled:!1}},methods:{handleLogin:function(){var t=this;this.errors={},this.$axios.post("/api/posts/sms_back",{phone:this.phone,code:this.verifyCode}).then(function(e){localStorage.setItem("ele_login",8080),t.$router.push("/")}).catch(function(e){t.errors={code:e.response.data.msg}})},getVerifyCode:function(){this.validataPhone()&&(this.validataBtn(),this.$axios.post("/api/posts/sms_send",{tpl_id:"168244",key:"3c427d1739a3678ad92e11eadcacc07c",phone:this.phone}))},validataBtn:function(){var t=this,e=60;this.btnTitle=e+"秒后重试",this.disabled=!0;var n=setInterval(function(){0==e?(clearInterval(n),n=null,t.btnTitle="获取验证码",t.disabled=!1):(t.btnTitle=e-1+"秒后重试",e--)},1e3)},validataPhone:function(){return this.phone?555555==this.phone?(this.$router.push("/"),!1):/^1[345678]\d{9}$/.test(this.phone)?(this.errors={},!0):(this.errors={phone:"请填写正确的手机号码"},!1):(this.errors={phone:"手机号码不能为空"},!1)}},computed:{isClick:function(){return!this.phone||!this.verifyCode}}},h=p,f=(n("3973"),Object(c["a"])(h,i,r,!1,null,"03f7bf54",null));e["default"]=f.exports},b640:function(t,e,n){t.exports=n.p+"img/logo.87ab03f8.jpg"},be58:function(t,e,n){}}]);
//# sourceMappingURL=chunk-3d5dca8e.328434dd.js.map